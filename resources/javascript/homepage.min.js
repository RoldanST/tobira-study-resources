!function(e,a){"use strict";for(var s,t=0,l=(n=a.querySelectorAll("#quick-nav-list a")).length;t<l;t++)/lesson-(?:grammar-|)\d+/.test(n[t])&&(s=n[t].href.replace(/.*?lesson-(?:grammar-|)(\d+).*/,"$1"),n[t].insertAdjacentHTML("beforebegin",'<a class="sub-section-button fa" href="#toggle-sub-section" onclick="ToggleSubSection(this, '+s+'); return false;" title="Toggle sub-sections" data-open="false"></a>'),n[t].insertAdjacentHTML("afterend",'<ul style="display:none;"></ul>'),n[t].parentNode.className+=" noBullet");if(e.ToggleSubSection=function(e,s){var t=e.parentNode.lastChild;if(!t.innerHTML){for(var l=a.querySelectorAll("#exercises-"+s+" h3"),r=0,n=l.length,o="";r<n;r++)o+='<li><a href="#'+l[r].id+'">'+l[r].innerHTML.replace(/\s\(.*\)$/,"").replace(/<a.*?>.*?<\/a>/g,"")+"</a></li>";t.innerHTML=o}/none/.test(t.style.display)?(t.style.display="block",e.dataset.open=!0):(t.style.display="none",e.dataset.open=!1)},AddJumpArrowsTo(".lesson-title","quick-nav","Jump to Quick Navigation"),storageOK&&localStorage.TobiraResults){var r,n,o=JSON.parse(localStorage.TobiraResults);for(r in o)(n=a.querySelector('a[href*="'+r+'"]'))&&n.parentNode.insertAdjacentHTML("beforeend",'&nbsp;<span class="exercise-results result--'+(100==o[r]?"perfect":o[r]>=70?"good":o[r]>=50?"average":"low")+'" title="Exercise score"><i class="fa">'+(100==o[r]?"&#xf005;":o[r]>=70?"&#xf00c;":o[r]>=50?"&#xf10c;":"&#xf00d;")+"</i> "+o[r]+"%</span>")}}(window,document);